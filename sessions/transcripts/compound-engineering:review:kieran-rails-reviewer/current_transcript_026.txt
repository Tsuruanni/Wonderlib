        "content": "     1→# ReadEng Admin Panel - Phase 3 Özellikleri\n     2→\n     3→## Özet\n     4→Mevcut admin paneline 4 yeni özellik ekleniyor:\n     5→1. CSV Import (Users + Vocabulary)\n     6→2. Settings modülü\n     7→3. Word Lists modülü (drag-drop ile)\n     8→4. Analytics + Charts\n     9→\n    10→**Proje:** `/Users/wonderelt/Desktop/readeng_admin`\n    11→\n    12→---\n    13→\n    14→## Mevcut Durum (Tamamlandı)\n    15→- ✅ Schools (CRUD)\n    16→- ✅ Users (List + Edit)\n    17→- ✅ Classes (CRUD + student assignment)\n    18→- ✅ Badges (CRUD)\n    19→- ✅ Vocabulary (CRUD + pagination)\n    20→\n    21→---\n    22→\n    23→## Yeni Dependencies\n    24→\n    25→```yaml\n    26→# pubspec.yaml'a ekle:\n    27→dependencies:\n    28→  csv: ^6.0.0           # CSV parsing\n    29→  fl_chart: ^0.69.0     # Charts\n    30→```\n    31→\n    32→---\n    33→\n    34→## Phase 3.1: CSV Import\n    35→\n    36→### Users CSV Import\n    37→\n    38→**Dosya:** `lib/features/users/screens/user_import_screen.dart`\n    39→\n    40→**Özellikler:**\n    41→- CSV dosya seçimi (file_picker zaten var)\n    42→- Preview table (ilk 10 satır)\n    43→- Column mapping (otomatik veya manuel)\n    44→- Validation errors gösterimi\n    45→- Import progress indicator\n    46→- Results summary\n    47→\n    48→**CSV Format:**\n    49→```csv\n    50→email,first_name,last_name,role,school_code,student_number\n    51→john@example.com,John,Doe,student,DEMO123,2024001\n    52→jane@example.com,Jane,Smith,teacher,DEMO123,\n    53→```\n    54→\n    55→**Import Logic:**\n    56→```dart\n    57→1. Parse CSV with csv package\n    58→2. Validate required fields (email, role)\n    59→3. Look up school_id from school_code\n    60→4. For each row:\n    61→   - Check if profile exists (by email)\n    62→   - If exists: update fields\n    63→   - If not exists: create profile (user must register separately)\n    64→5. Show results: created, updated, errors\n    65→```\n    66→\n    67→**Routes:**\n    68→```dart\n    69→GoRoute(path: '/users/import', builder: (_, __) => const UserImportScreen()),\n    70→```\n    71→\n    72→**UI Updates:**\n    73→- UserListScreen'e \"Import CSV\" butonu ekle\n    74→\n    75→---\n    76→\n    77→### Vocabulary CSV Import\n    78→\n    79→**Dosya:** `lib/features/vocabulary/screens/vocabulary_import_screen.dart`\n    80→\n    81→**Özellikler:**\n    82→- CSV dosya seçimi\n    83→- Preview table\n    84→- Duplicate handling: Skip / Update\n    85→- Import progress\n    86→- Results summary\n    87→\n    88→**CSV Format:**\n    89→```csv\n    90→word,phonetic,part_of_speech,meaning_tr,meaning_en,level\n    91→apple,/ˈæp.əl/,noun,elma,a round fruit,A1\n    92→run,/rʌn/,verb,koşmak,to move fast,A1\n    93→```\n    94→\n    95→**Import Logic:**\n    96→```dart\n    97→1. Parse CSV\n    98→2. Validate required fields (word, meaning_tr)\n    99→3. For each row:\n   100→   - Check if word exists\n   101→   - If exists and \"Update\" selected: update\n   102→   - If exists and \"Skip\" selected: skip\n   103→   - If not exists: insert\n   104→4. Show results\n   105→```\n   106→\n   107→**Routes:**\n   108→```dart\n   109→GoRoute(path: '/vocabulary/import', builder: (_, __) => const VocabularyImportScreen()),\n   110→```\n   111→\n   112→**UI Updates:**\n   113→- VocabularyListScreen'e \"Import CSV\" butonu ekle\n   114→\n   115→---\n   116→\n   117→## Phase 3.2: Settings Module\n   118→\n   119→**Dosya:** `lib/features/settings/screens/settings_screen.dart`\n   120→\n   121→**Sections:**\n   122→\n   123→### 1. XP Configuration\n   124→```dart\n   125→- XP per chapter read: [number input]\n   126→- XP per activity completed: [number input]\n   127→- XP per vocabulary learned: [number input]\n   128→- XP per streak day: [number input]\n   129→```\n   130→\n   131→### 2. Game Configuration\n   132→```dart\n   133→- Default time limit (seconds): [number input]\n   134→- Difficulty multiplier: [dropdown 1x, 1.5x, 2x]\n   135→```\n   136→\n   137→### 3. System Info (Read-only)\n   138→```dart\n   139→- App version: 1.0.0\n   140→- Environment: Production\n   141→- Database: Connected\n   142→- Last sync: [timestamp]\n   143→```\n   144→\n   145→**Storage:** Supabase'de `system_settings` tablosu (key-value)\n   146→\n   147→**Routes:**\n   148→```dart\n   149→GoRoute(path: '/settings', builder: (_, __) => const SettingsScreen()),\n   150→```\n   151→\n   152→**Dashboard Update:**\n   153→- Settings kartını aktif et\n   154→\n   155→---\n   156→\n   157→## Phase 3.3: Word Lists Module\n   158→\n   159→**Dosyalar:**\n   160→```\n   161→lib/features/word_lists/screens/\n   162→├── word_list_list_screen.dart\n   163→└── word_list_edit_screen.dart\n   164→```\n   165→\n   166→### word_list_list_screen.dart\n   167→\n   168→**Provider:**\n   169→```dart\n   170→final wordListsProvider = FutureProvider<List<Map<String, dynamic>>>((ref) async {\n   171→  final supabase = ref.watch(supabaseClientProvider);\n   172→  return await supabase\n   173→      .from('word_lists')\n   174→      .select('*, word_list_items(count)')\n   175→      .eq('is_system', true)  // Admin sadece system listelerini yönetir\n   176→      .order('name');\n   177→});\n   178→```\n   179→\n   180→**UI:**\n   181→- Card grid layout\n   182→- Show: name, description, level, word count, cover image\n   183→- Filter by category\n   184→- Filter by level\n   185→\n   186→**Categories:**\n   187→- common_words, grade_level, test_prep, thematic, story_vocab\n   188→\n   189→### word_list_edit_screen.dart\n   190→\n   191→**Form Fields:**\n   192→- name (required)\n   193→- description\n   194→- level dropdown (A1-C2)\n   195→- category dropdown\n   196→- cover_image_url\n   197→- source_book_id (optional, dropdown)\n   198→\n   199→**Word Management Section:**\n   200→- Current words list with drag-drop reordering\n   201→- Search and add words from vocabulary_words\n   202→- Remove button for each word\n   203→- Word count display\n   204→\n   205→**Drag-Drop Implementation:**\n   206→```dart\n   207→ReorderableListView.builder(\n   208→  onReorder: (oldIndex, newIndex) async {\n   209→    // Reorder locally\n   210→    // Update order_index in word_list_items\n   211→  },\n   212→  itemBuilder: (context, index) {\n   213→    return ListTile(\n   214→      key: ValueKey(word['id']),\n   215→      leading: ReorderableDragStartListener(...),\n   216→      title: Text(word['word']),\n   217→      trailing: IconButton(icon: Icons.delete, onPressed: _removeWord),\n   218→    );\n   219→  },\n   220→)\n   221→```\n   222→\n   223→**Routes:**\n   224→```dart\n   225→GoRoute(path: '/word-lists', builder: (_, __) => const WordListListScreen()),\n   226→GoRoute(path: '/word-lists/new', builder: (_, __) => const WordListEditScreen()),\n   227→GoRoute(path: '/word-lists/:listId', builder: (_, state) => WordListEditScreen(listId: state.pathParameters['listId'])),\n   228→```\n   229→\n   230→**Dashboard Update:**\n   231→- Word Lists kartı ekle\n   232→\n   233→---\n   234→\n   235→## Phase 3.4: Analytics + Charts\n   236→\n   237→**Dosya:** `lib/features/analytics/screens/analytics_screen.dart`\n   238→\n   239→**Sections:**\n   240→\n   241→### 1. Overview Stats (Cards)\n   242→```dart\n   243→Row(\n   244→  children: [\n   245→    _StatCard(title: 'Total Schools', value: schoolCount, icon: Icons.school),\n   246→    _StatCard(title: 'Total Users', value: userCount, icon: Icons.people),\n   247→    _StatCard(title: 'Total Books', value: bookCount, icon: Icons.book),\n   248→    _StatCard(title: 'Total Words', value: wordCount, icon: Icons.abc),\n   249→  ],\n   250→)\n   251→```\n   252→\n   253→### 2. User Distribution (Pie Chart)\n   254→```dart\n   255→PieChart(\n   256→  PieChartData(\n   257→    sections: [\n   258→      PieChartSectionData(title: 'Students', value: studentCount, color: Colors.blue),\n   259→      PieChartSectionData(title: 'Teachers', value: teacherCount, color: Colors.green),\n   260→      PieChartSectionData(title: 'Admins', value: adminCount, color: Colors.red),\n   261→    ],\n   262→  ),\n   263→)\n   264→```\n   265→\n   266→### 3. Top Schools by Students (Bar Chart)\n   267→```dart\n   268→BarChart(\n   269→  BarChartData(\n   270→    barGroups: topSchools.map((school) =>\n   271→      BarChartGroupData(\n   272→        x: index,\n   273→        barRods: [BarChartRodData(toY: school['student_count'])],\n   274→      ),\n   275→    ).toList(),\n   276→  ),\n   277→)\n   278→```\n   279→\n   280→### 4. Reading Activity (Line Chart - Last 30 Days)\n   281→```dart\n   282→LineChart(\n   283→  LineChartData(\n   284→    lineBarsData: [\n   285→      LineChartBarData(\n   286→        spots: dailyActivity.map((day) =>\n   287→          FlSpot(day['date'], day['count']),\n   288→        ).toList(),\n   289→      ),\n   290→    ],\n   291→  ),\n   292→)\n   293→```\n   294→\n   295→### 5. Recent Activity Feed\n   296→```dart\n   297→ListView(\n   298→  children: recentXpLogs.map((log) => ListTile(\n   299→    leading: CircleAvatar(child: Text(log['user']['initials'])),\n   300→    title: Text('+${log['amount']} XP'),\n   301→    subtitle: Text(log['description']),\n   302→    trailing: Text(timeAgo(log['created_at'])),\n   303→  )).toList(),\n   304→)\n   305→```\n   306→\n   307→**Queries:**\n   308→```dart\n   309→// Overview stats\n   310→final stats = await Future.wait([\n   311→  supabase.from('schools').select('id').count(),\n   312→  supabase.from('profiles').select('id').count(),\n   313→  supabase.from('books').select('id').count(),\n   314→  supabase.from('vocabulary_words').select('id').count(),\n   315→]);\n   316→\n   317→// User distribution\n   318→final userDist = await supabase\n   319→    .from('profiles')\n   320→    .select('role')\n   321→    .then((data) => groupBy(data, 'role'));\n   322→\n   323→// Top schools\n   324→final topSchools = await supabase.rpc('get_schools_with_stats').limit(10);\n   325→\n   326→// Recent activity\n   327→final recentLogs = await supabase\n   328→    .from('xp_logs')\n   329→    .select('*, profiles(first_name, last_name)')\n   330→    .order('created_at', ascending: false)\n   331→    .limit(20);\n   332→```\n   333→\n   334→**Routes:**\n   335→```dart\n   336→GoRoute(path: '/analytics', builder: (_, __) => const AnalyticsScreen()),\n   337→```\n   338→\n   339→**Dashboard Update:**\n   340→- Analytics kartını aktif et\n   341→\n   342→---\n   343→\n   344→## Dosya Özeti\n   345→\n   346→### Yeni Dosyalar (6 dosya)\n   347→```\n   348→lib/features/users/screens/user_import_screen.dart\n   349→lib/features/vocabulary/screens/vocabulary_import_screen.dart\n   350→lib/features/settings/screens/settings_screen.dart\n   351→lib/features/word_lists/screens/word_list_list_screen.dart\n   352→lib/features/word_lists/screens/word_list_edit_screen.dart\n   353→lib/features/analytics/screens/analytics_screen.dart\n   354→```\n   355→\n   356→### Güncellenecek Dosyalar\n   357→```\n   358→lib/core/router.dart - 6 yeni route\n   359→lib/features/dashboard/screens/dashboard_screen.dart - 3 yeni kart\n   360→lib/features/users/screens/user_list_screen.dart - Import butonu\n   361→lib/features/vocabulary/screens/vocabulary_list_screen.dart - Import butonu\n   362→pubspec.yaml - 2 yeni dependency\n   363→```\n   364→\n   365→---\n   366→\n   367→## Implementation Sırası\n   368→\n   369→| # | Modül | Bağımlılık |\n   370→|---|-------|------------|\n   371→| 1 | Dependencies (csv, fl_chart) | - |\n   372→| 2 | Settings | - |\n   373→| 3 | User CSV Import | csv package |\n   374→| 4 | Vocabulary CSV Import | csv package |\n   375→| 5 | Word Lists | - |\n   376→| 6 | Analytics + Charts | fl_chart |\n   377→| 7 | Dashboard Update | Tümü |\n   378→\n   379→---\n   380→\n   381→## Database Gereksinimleri\n   382→\n   383→### system_settings tablosu (yoksa oluştur)\n   384→```sql\n   385→CREATE TABLE IF NOT EXISTS system_settings (\n   386→  key VARCHAR PRIMARY KEY,\n   387→  value JSONB NOT NULL,\n   388→  updated_at TIMESTAMPTZ DEFAULT NOW()\n   389→);\n   390→\n   391→-- Default values\n   392→INSERT INTO system_settings (key, value) VALUES\n   393→  ('xp_chapter_read', '10'),\n   394→  ('xp_activity_completed', '5'),\n   395→  ('xp_vocabulary_learned', '2'),\n   396→  ('xp_streak_day', '15'),\n   397→  ('default_time_limit', '60'),\n   398→  ('difficulty_multiplier', '1')\n   399→ON CONFLICT (key) DO NOTHING;\n   400→```\n   401→\n   402→---\n   403→\n   404→## Doğrulama\n   405→\n   406→### CSV Import\n   407→- [ ] CSV dosya seçimi çalışıyor\n   408→- [ ] Preview doğru gösteriliyor\n   409→- [ ] Validation errors gösteriliyor\n   410→- [ ] Import sonrası summary gösteriliyor\n   411→- [ ] List otomatik yenileniyor\n   412→\n   413→### Settings\n   414→- [ ] Mevcut değerler yükleniyor\n   415→- [ ] Kaydet çalışıyor\n   416→- [ ] Değişiklikler persist oluyor\n   417→\n   418→### Word Lists\n   419→- [ ] CRUD çalışıyor\n   420→- [ ] Drag-drop reorder çalışıyor\n   421→- [ ] Word ekleme/çıkarma çalışıyor\n   422→- [ ] Word count doğru\n   423→\n   424→### Analytics\n   425→- [ ] Stats doğru yükleniyor\n   426→- [ ] Charts render oluyor\n   427→- [ ] Recent activity gösteriliyor\n   428→\n   429→---\n   430→\n   431→## Test\n   432→\n   433→```bash\n   434→cd /Users/wonderelt/Desktop/readeng_admin\n   435→flutter pub get  # Yeni dependencies için\n   436→flutter run -d chrome\n   437→```\n   438→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "Planı reviewer feedback'lerine göre tamamen yeniden yazıyorum:"
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "tool_use",
        "id": "toolu_01974WSjY7GtWU4fX3Rt8GFv",
        "name": "Write",
        "input": {
          "file_path": "/Users/wonderelt/.claude/plans/concurrent-cuddling-hedgehog.md",
          "content": "# ReadEng Admin Panel - Phase 3 (Sadeleştirilmiş)\n\n## Özet\nReviewer feedback'leri sonrası sadeleştirilmiş plan:\n\n| Özellik | Karar | Gerekçe |\n|---------|-------|---------|\n| CSV Import | ✅ Uygula (sadeleştirilmiş) | Fixed format, preview yok |\n| Settings | ❌ Ertele | Main app hardcoded değerler kullanıyor |\n| Word Lists | ✅ Uygula (sadeleştirilmiş) | Drag-drop yerine order field |\n| Analytics | ❌ Kaldır | Dashboard'da sayılar yeterli |\n\n**Yeni Dependencies:** Sadece `csv: ^6.0.0` (fl_chart kaldırıldı)\n\n**Yeni Dosya Sayısı:** 6 → 4\n\n---\n\n## Proje\n`/Users/wonderelt/Desktop/readeng_admin`\n\n---\n\n## Phase 3.1: CSV Import (Sadeleştirilmiş)\n\n### Ortak Import Dialog Component\n\n**Dosya:** `lib/core/widgets/csv_import_dialog.dart`\n\nHem Users hem Vocabulary için tekrar kullanılabilir import dialog:\n\n```dart\nclass CsvImportDialog<T> extends ConsumerStatefulWidget {\n  const CsvImportDialog({\n    required this.title,\n    required this.expectedHeaders,\n    required this.validateRow,\n    required this.importRow,\n    required this.onComplete,\n  });\n\n  final String title;\n  final List<String> expectedHeaders;\n  final String? Function(Map<String, dynamic> row) validateRow;\n  final Future<void> Function(Map<String, dynamic> row) importRow;\n  final VoidCallback onComplete;\n}\n```\n\n**UI Flow:**\n1. FilePicker ile CSV seç\n2. Fixed format validation (header check)\n3. Import butonu → Progress göster\n4. Sonuç: \"Imported: X, Errors: Y\" + error listesi\n\n**Preview YOK** - DHH/Simplicity önerisi: Fixed format, admin doğru CSV hazırlar.\n\n---\n\n### Users CSV Import\n\n**Dosya:** `lib/features/users/screens/user_import_screen.dart`\n\n**CSV Format (Fixed):**\n```csv\nemail,first_name,last_name,role,school_code,student_number\njohn@example.com,John,Doe,student,DEMO123,2024001\n```\n\n**Required fields:** email, role\n**Optional fields:** first_name, last_name, school_code, student_number\n\n**Logic:**\n```dart\n1. Parse CSV\n2. For each row:\n   - Validate email format\n   - Validate role in ['student', 'teacher', 'admin']\n   - Look up school_id from school_code (if provided)\n   - Upsert profile (create or update by email)\n3. ref.invalidate(usersProvider) // Kieran önerisi\n4. Show summary\n```\n\n**Route:** `/users/import`\n\n**UI Update:** UserListScreen AppBar'a `OutlinedButton.icon` ekle (secondary action - Kieran önerisi)\n\n---\n\n### Vocabulary CSV Import\n\n**Dosya:** `lib/features/vocabulary/screens/vocabulary_import_screen.dart`\n\n**CSV Format (Fixed):**\n```csv\nword,phonetic,part_of_speech,meaning_tr,meaning_en,level\napple,/ˈæp.əl/,noun,elma,a round fruit,A1\n```\n\n**Required fields:** word, meaning_tr\n**Optional fields:** phonetic, part_of_speech, meaning_en, level\n\n**Logic:**\n```dart\n1. Parse CSV\n2. For each row:\n   - Validate word not empty\n   - Validate level in ['A1','A2','B1','B2','C1','C2'] or null\n   - Check if word exists → update, else insert\n3. ref.invalidate(vocabularyProvider)\n4. Show summary\n```\n\n**Route:** `/vocabulary/import`\n\n**UI Update:** VocabularyListScreen AppBar'a `OutlinedButton.icon` ekle\n\n---\n\n## Phase 3.2: Settings Module\n\n**ERTELENDI** - Main app XP değerlerini `game_config.dart`'ta hardcoded tutuyor. Bu modül ancak main app refactor edildiğinde anlamlı olur.\n\n---\n\n## Phase 3.3: Word Lists Module (Sadeleştirilmiş)\n\n**Dosyalar:**\n```\nlib/features/wordlists/screens/\n├── wordlist_list_screen.dart\n└── wordlist_edit_screen.dart\n```\n\n**NOT:** Kieran önerisi - `/word-lists` değil `/wordlists` (mevcut pattern ile uyumlu)\n\n### wordlist_list_screen.dart\n\n**Provider:** (Screen dosyasında - mevcut pattern)\n```dart\nfinal wordlistsProvider = FutureProvider<List<Map<String, dynamic>>>((ref) async {\n  final supabase = ref.watch(supabaseClientProvider);\n  return await supabase\n      .from('word_lists')\n      .select('id, name, description, level, category')\n      .eq('is_system', true)\n      .order('name');\n});\n```\n\n**UI:** Simple table (card grid DEĞİL - Simplicity önerisi)\n- Columns: Name, Level, Category, Actions\n- Filter: Level dropdown only (tek filter yeterli)\n\n---\n\n### wordlist_edit_screen.dart\n\n**Form Fields:**\n- name (required)\n- description\n- level dropdown (A1-C2)\n- category dropdown\n\n**Kaldırılan fields:**\n- ❌ cover_image_url (Simplicity: kullanılıyor mu?)\n- ❌ source_book_id (YAGNI)\n\n**Word Management:**\n- Basit liste (drag-drop YOK - Simplicity önerisi)\n- Order field ile sıralama (manuel numara girişi)\n- Vocabulary search + add\n- Remove button\n\n```dart\n// Order field ile sıralama (drag-drop yerine)\nTextFormField(\n  decoration: InputDecoration(labelText: 'Order'),\n  keyboardType: TextInputType.number,\n  onChanged: (value) => _updateOrder(wordId, int.parse(value)),\n)\n```\n\n**Rollback pattern:** (Kieran önerisi)\n```dart\nFuture<void> _updateOrder(String wordId, int newOrder) async {\n  final previousState = Map.from(_wordOrders);\n  setState(() => _wordOrders[wordId] = newOrder);\n  try {\n    await supabase.from('word_list_items')\n        .update({'order_index': newOrder})\n        .eq('id', wordId);\n  } catch (e) {\n    setState(() => _wordOrders = previousState); // Rollback\n    ScaffoldMessenger.of(context).showSnackBar(...);\n  }\n}\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/wordlists', builder: (_, __) => const WordlistListScreen()),\nGoRoute(path: '/wordlists/new', builder: (_, __) => const WordlistEditScreen()),\nGoRoute(path: '/wordlists/:listId', builder: (_, state) => WordlistEditScreen(listId: state.pathParameters['listId'])),\n```\n\n---\n\n## Phase 3.4: Analytics\n\n**KALDIRILDI** - fl_chart overkill.\n\n**Alternatif:** Dashboard card'larına count ekle:\n```dart\n// dashboard_screen.dart güncelle\n_DashboardCard(\n  icon: Icons.school,\n  title: 'Schools',\n  description: '${schoolCount} schools',  // Sadece count göster\n  ...\n)\n```\n\nBu basit count'lar için ayrı bir Analytics sayfası gerekmiyor.\n\n---\n\n## Dosya Özeti (Güncellenmiş)\n\n### Yeni Dosyalar (4 dosya)\n```\nlib/core/widgets/csv_import_dialog.dart\nlib/features/users/screens/user_import_screen.dart\nlib/features/vocabulary/screens/vocabulary_import_screen.dart\nlib/features/wordlists/screens/wordlist_list_screen.dart\nlib/features/wordlists/screens/wordlist_edit_screen.dart\n```\n\n### Güncellenecek Dosyalar\n```\nlib/core/router.dart - 5 yeni route\nlib/features/dashboard/screens/dashboard_screen.dart - Word Lists kartı + counts\nlib/features/users/screens/user_list_screen.dart - Import butonu\nlib/features/vocabulary/screens/vocabulary_list_screen.dart - Import butonu\npubspec.yaml - csv dependency\n```\n\n---\n\n## Implementation Sırası\n\n| # | Modül | Dosya |\n|---|-------|-------|\n| 1 | csv dependency | pubspec.yaml |\n| 2 | Shared import dialog | csv_import_dialog.dart |\n| 3 | User Import | user_import_screen.dart + route |\n| 4 | Vocabulary Import | vocabulary_import_screen.dart + route |\n| 5 | Word Lists | wordlist_list_screen.dart + wordlist_edit_screen.dart + routes |\n| 6 | Dashboard Update | dashboard_screen.dart (Word Lists kartı) |\n\n---\n\n## Doğrulama\n\n### CSV Import\n- [ ] File picker açılıyor\n- [ ] Header validation çalışıyor (wrong format → error)\n- [ ] Import progress gösteriliyor\n- [ ] Summary gösteriliyor (imported/errors)\n- [ ] `ref.invalidate()` list'i yeniliyor\n- [ ] Error detayları gösteriliyor\n\n### Word Lists\n- [ ] List screen table gösteriyor\n- [ ] Level filter çalışıyor\n- [ ] CRUD çalışıyor\n- [ ] Word ekleme/çıkarma çalışıyor\n- [ ] Order field güncelleme çalışıyor\n- [ ] Error durumunda rollback oluyor\n\n---\n\n## Test\n\n```bash\ncd /Users/wonderelt/Desktop/readeng_admin\nflutter pub get\nflutter run -d chrome\n```\n\nTest CSV files:\n```\n# test_users.csv\nemail,first_name,last_name,role,school_code,student_number\ntest1@example.com,Test,User1,student,DEMO123,2024099\n\n# test_vocabulary.csv\nword,phonetic,part_of_speech,meaning_tr,meaning_en,level\ntestword,/test/,noun,test anlamı,test meaning,A1\n```\n\n---\n\n## Ertelenen Özellikler (YAGNI)\n\n| Özellik | Neden Ertelendi |\n|---------|-----------------|\n| Settings module | Main app hardcoded değerler kullanıyor |\n| Analytics + Charts | Dashboard counts yeterli, PostHog var |\n| CSV preview | Fixed format yeterli |\n| CSV column mapping | Over-engineering |\n| Word Lists drag-drop | Order field daha basit |\n| Word Lists cover_image | Kullanılıyor mu belli değil |\n"
        },
        "caller": {
          "type": "direct"
        }
      }
    ]
  },
  {
    "role": "user",
    "content": [
      {
