          "content": "# ReadEng Admin Panel - Phase 3 Özellikleri\n\n## Özet\nMevcut admin paneline 4 yeni özellik ekleniyor:\n1. CSV Import (Users + Vocabulary)\n2. Settings modülü\n3. Word Lists modülü (drag-drop ile)\n4. Analytics + Charts\n\n**Proje:** `/Users/wonderelt/Desktop/readeng_admin`\n\n---\n\n## Mevcut Durum (Tamamlandı)\n- ✅ Schools (CRUD)\n- ✅ Users (List + Edit)\n- ✅ Classes (CRUD + student assignment)\n- ✅ Badges (CRUD)\n- ✅ Vocabulary (CRUD + pagination)\n\n---\n\n## Yeni Dependencies\n\n```yaml\n# pubspec.yaml'a ekle:\ndependencies:\n  csv: ^6.0.0           # CSV parsing\n  fl_chart: ^0.69.0     # Charts\n```\n\n---\n\n## Phase 3.1: CSV Import\n\n### Users CSV Import\n\n**Dosya:** `lib/features/users/screens/user_import_screen.dart`\n\n**Özellikler:**\n- CSV dosya seçimi (file_picker zaten var)\n- Preview table (ilk 10 satır)\n- Column mapping (otomatik veya manuel)\n- Validation errors gösterimi\n- Import progress indicator\n- Results summary\n\n**CSV Format:**\n```csv\nemail,first_name,last_name,role,school_code,student_number\njohn@example.com,John,Doe,student,DEMO123,2024001\njane@example.com,Jane,Smith,teacher,DEMO123,\n```\n\n**Import Logic:**\n```dart\n1. Parse CSV with csv package\n2. Validate required fields (email, role)\n3. Look up school_id from school_code\n4. For each row:\n   - Check if profile exists (by email)\n   - If exists: update fields\n   - If not exists: create profile (user must register separately)\n5. Show results: created, updated, errors\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/users/import', builder: (_, __) => const UserImportScreen()),\n```\n\n**UI Updates:**\n- UserListScreen'e \"Import CSV\" butonu ekle\n\n---\n\n### Vocabulary CSV Import\n\n**Dosya:** `lib/features/vocabulary/screens/vocabulary_import_screen.dart`\n\n**Özellikler:**\n- CSV dosya seçimi\n- Preview table\n- Duplicate handling: Skip / Update\n- Import progress\n- Results summary\n\n**CSV Format:**\n```csv\nword,phonetic,part_of_speech,meaning_tr,meaning_en,level\napple,/ˈæp.əl/,noun,elma,a round fruit,A1\nrun,/rʌn/,verb,koşmak,to move fast,A1\n```\n\n**Import Logic:**\n```dart\n1. Parse CSV\n2. Validate required fields (word, meaning_tr)\n3. For each row:\n   - Check if word exists\n   - If exists and \"Update\" selected: update\n   - If exists and \"Skip\" selected: skip\n   - If not exists: insert\n4. Show results\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/vocabulary/import', builder: (_, __) => const VocabularyImportScreen()),\n```\n\n**UI Updates:**\n- VocabularyListScreen'e \"Import CSV\" butonu ekle\n\n---\n\n## Phase 3.2: Settings Module\n\n**Dosya:** `lib/features/settings/screens/settings_screen.dart`\n\n**Sections:**\n\n### 1. XP Configuration\n```dart\n- XP per chapter read: [number input]\n- XP per activity completed: [number input]\n- XP per vocabulary learned: [number input]\n- XP per streak day: [number input]\n```\n\n### 2. Game Configuration\n```dart\n- Default time limit (seconds): [number input]\n- Difficulty multiplier: [dropdown 1x, 1.5x, 2x]\n```\n\n### 3. System Info (Read-only)\n```dart\n- App version: 1.0.0\n- Environment: Production\n- Database: Connected\n- Last sync: [timestamp]\n```\n\n**Storage:** Supabase'de `system_settings` tablosu (key-value)\n\n**Routes:**\n```dart\nGoRoute(path: '/settings', builder: (_, __) => const SettingsScreen()),\n```\n\n**Dashboard Update:**\n- Settings kartını aktif et\n\n---\n\n## Phase 3.3: Word Lists Module\n\n**Dosyalar:**\n```\nlib/features/word_lists/screens/\n├── word_list_list_screen.dart\n└── word_list_edit_screen.dart\n```\n\n### word_list_list_screen.dart\n\n**Provider:**\n```dart\nfinal wordListsProvider = FutureProvider<List<Map<String, dynamic>>>((ref) async {\n  final supabase = ref.watch(supabaseClientProvider);\n  return await supabase\n      .from('word_lists')\n      .select('*, word_list_items(count)')\n      .eq('is_system', true)  // Admin sadece system listelerini yönetir\n      .order('name');\n});\n```\n\n**UI:**\n- Card grid layout\n- Show: name, description, level, word count, cover image\n- Filter by category\n- Filter by level\n\n**Categories:**\n- common_words, grade_level, test_prep, thematic, story_vocab\n\n### word_list_edit_screen.dart\n\n**Form Fields:**\n- name (required)\n- description\n- level dropdown (A1-C2)\n- category dropdown\n- cover_image_url\n- source_book_id (optional, dropdown)\n\n**Word Management Section:**\n- Current words list with drag-drop reordering\n- Search and add words from vocabulary_words\n- Remove button for each word\n- Word count display\n\n**Drag-Drop Implementation:**\n```dart\nReorderableListView.builder(\n  onReorder: (oldIndex, newIndex) async {\n    // Reorder locally\n    // Update order_index in word_list_items\n  },\n  itemBuilder: (context, index) {\n    return ListTile(\n      key: ValueKey(word['id']),\n      leading: ReorderableDragStartListener(...),\n      title: Text(word['word']),\n      trailing: IconButton(icon: Icons.delete, onPressed: _removeWord),\n    );\n  },\n)\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/word-lists', builder: (_, __) => const WordListListScreen()),\nGoRoute(path: '/word-lists/new', builder: (_, __) => const WordListEditScreen()),\nGoRoute(path: '/word-lists/:listId', builder: (_, state) => WordListEditScreen(listId: state.pathParameters['listId'])),\n```\n\n**Dashboard Update:**\n- Word Lists kartı ekle\n\n---\n\n## Phase 3.4: Analytics + Charts\n\n**Dosya:** `lib/features/analytics/screens/analytics_screen.dart`\n\n**Sections:**\n\n### 1. Overview Stats (Cards)\n```dart\nRow(\n  children: [\n    _StatCard(title: 'Total Schools', value: schoolCount, icon: Icons.school),\n    _StatCard(title: 'Total Users', value: userCount, icon: Icons.people),\n    _StatCard(title: 'Total Books', value: bookCount, icon: Icons.book),\n    _StatCard(title: 'Total Words', value: wordCount, icon: Icons.abc),\n  ],\n)\n```\n\n### 2. User Distribution (Pie Chart)\n```dart\nPieChart(\n  PieChartData(\n    sections: [\n      PieChartSectionData(title: 'Students', value: studentCount, color: Colors.blue),\n      PieChartSectionData(title: 'Teachers', value: teacherCount, color: Colors.green),\n      PieChartSectionData(title: 'Admins', value: adminCount, color: Colors.red),\n    ],\n  ),\n)\n```\n\n### 3. Top Schools by Students (Bar Chart)\n```dart\nBarChart(\n  BarChartData(\n    barGroups: topSchools.map((school) =>\n      BarChartGroupData(\n        x: index,\n        barRods: [BarChartRodData(toY: school['student_count'])],\n      ),\n    ).toList(),\n  ),\n)\n```\n\n### 4. Reading Activity (Line Chart - Last 30 Days)\n```dart\nLineChart(\n  LineChartData(\n    lineBarsData: [\n      LineChartBarData(\n        spots: dailyActivity.map((day) =>\n          FlSpot(day['date'], day['count']),\n        ).toList(),\n      ),\n    ],\n  ),\n)\n```\n\n### 5. Recent Activity Feed\n```dart\nListView(\n  children: recentXpLogs.map((log) => ListTile(\n    leading: CircleAvatar(child: Text(log['user']['initials'])),\n    title: Text('+${log['amount']} XP'),\n    subtitle: Text(log['description']),\n    trailing: Text(timeAgo(log['created_at'])),\n  )).toList(),\n)\n```\n\n**Queries:**\n```dart\n// Overview stats\nfinal stats = await Future.wait([\n  supabase.from('schools').select('id').count(),\n  supabase.from('profiles').select('id').count(),\n  supabase.from('books').select('id').count(),\n  supabase.from('vocabulary_words').select('id').count(),\n]);\n\n// User distribution\nfinal userDist = await supabase\n    .from('profiles')\n    .select('role')\n    .then((data) => groupBy(data, 'role'));\n\n// Top schools\nfinal topSchools = await supabase.rpc('get_schools_with_stats').limit(10);\n\n// Recent activity\nfinal recentLogs = await supabase\n    .from('xp_logs')\n    .select('*, profiles(first_name, last_name)')\n    .order('created_at', ascending: false)\n    .limit(20);\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/analytics', builder: (_, __) => const AnalyticsScreen()),\n```\n\n**Dashboard Update:**\n- Analytics kartını aktif et\n\n---\n\n## Dosya Özeti\n\n### Yeni Dosyalar (6 dosya)\n```\nlib/features/users/screens/user_import_screen.dart\nlib/features/vocabulary/screens/vocabulary_import_screen.dart\nlib/features/settings/screens/settings_screen.dart\nlib/features/word_lists/screens/word_list_list_screen.dart\nlib/features/word_lists/screens/word_list_edit_screen.dart\nlib/features/analytics/screens/analytics_screen.dart\n```\n\n### Güncellenecek Dosyalar\n```\nlib/core/router.dart - 6 yeni route\nlib/features/dashboard/screens/dashboard_screen.dart - 3 yeni kart\nlib/features/users/screens/user_list_screen.dart - Import butonu\nlib/features/vocabulary/screens/vocabulary_list_screen.dart - Import butonu\npubspec.yaml - 2 yeni dependency\n```\n\n---\n\n## Implementation Sırası\n\n| # | Modül | Bağımlılık |\n|---|-------|------------|\n| 1 | Dependencies (csv, fl_chart) | - |\n| 2 | Settings | - |\n| 3 | User CSV Import | csv package |\n| 4 | Vocabulary CSV Import | csv package |\n| 5 | Word Lists | - |\n| 6 | Analytics + Charts | fl_chart |\n| 7 | Dashboard Update | Tümü |\n\n---\n\n## Database Gereksinimleri\n\n### system_settings tablosu (yoksa oluştur)\n```sql\nCREATE TABLE IF NOT EXISTS system_settings (\n  key VARCHAR PRIMARY KEY,\n  value JSONB NOT NULL,\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- Default values\nINSERT INTO system_settings (key, value) VALUES\n  ('xp_chapter_read', '10'),\n  ('xp_activity_completed', '5'),\n  ('xp_vocabulary_learned', '2'),\n  ('xp_streak_day', '15'),\n  ('default_time_limit', '60'),\n  ('difficulty_multiplier', '1')\nON CONFLICT (key) DO NOTHING;\n```\n\n---\n\n## Doğrulama\n\n### CSV Import\n- [ ] CSV dosya seçimi çalışıyor\n- [ ] Preview doğru gösteriliyor\n- [ ] Validation errors gösteriliyor\n- [ ] Import sonrası summary gösteriliyor\n- [ ] List otomatik yenileniyor\n\n### Settings\n- [ ] Mevcut değerler yükleniyor\n- [ ] Kaydet çalışıyor\n- [ ] Değişiklikler persist oluyor\n\n### Word Lists\n- [ ] CRUD çalışıyor\n- [ ] Drag-drop reorder çalışıyor\n- [ ] Word ekleme/çıkarma çalışıyor\n- [ ] Word count doğru\n\n### Analytics\n- [ ] Stats doğru yükleniyor\n- [ ] Charts render oluyor\n- [ ] Recent activity gösteriliyor\n\n---\n\n## Test\n\n```bash\ncd /Users/wonderelt/Desktop/readeng_admin\nflutter pub get  # Yeni dependencies için\nflutter run -d chrome\n```\n"
        },
        "caller": {
          "type": "direct"
        }
      }
    ]
  },
  {
    "role": "user",
    "content": [
      {
        "tool_use_id": "toolu_012oyQijms1uLm1Yeva3CnAA",
        "type": "tool_result",
        "content": "The file /Users/wonderelt/.claude/plans/concurrent-cuddling-hedgehog.md has been overwritten successfully."
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "thinking",
        "thinking": "Plan dosyasını güncelledim. Şimdi özet gösterip ExitPlanMode çağıracağım.",
        "signature": "EvwBCkYICxgCKkAMETH1W6gcuvlvATknYIdlCL9kFqAfH3Bn6vQE8mxwOQY9KQWxpygKVBY9CTdx+eQZempdYAg3lfsRghPVO4xQEgyhMxh8k20Psa8fwQkaDFJS9N8si6GWBeo3NSIwJPAhOAU9MyjrFcFxXCtB05F6FSquwi5McNZdt9wKpWkjxFB3zb/7syqVsCr3+0h6KmSvPU59Sl3Z17YJ4vt0GxIR5Xqzoj1JopHAaN2WO+5CfOM0cSeuZaZU6CSEytmKbOYjnqYgCCBVmdusCxR6ak046IkuMzmtinf0TrrEdMZh4fmCD0BjiXYn515EKQx/zbT1sPm7GAE="
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "Plan hazır. İşte özet:\n\n---\n\n## Phase 3 Özet\n\n### Yeni Özellikler (6 dosya)\n\n| # | Modül | Dosyalar | Özellikler |\n|---|-------|----------|------------|\n| 1 | **CSV Import (Users)** | user_import_screen.dart | Preview, validation, bulk import |\n| 2 | **CSV Import (Vocabulary)** | vocabulary_import_screen.dart | Skip/Update duplicates |\n| 3 | **Settings** | settings_screen.dart | XP config, game config, system info |\n| 4 | **Word Lists** | word_list_list/edit_screen.dart | Drag-drop sorting, word management |\n| 5 | **Analytics** | analytics_screen.dart | Stats + Pie/Bar/Line charts |\n\n### Yeni Dependencies\n```yaml\ncsv: ^6.0.0       # CSV parsing\nfl_chart: ^0.69.0 # Charts\n```\n\n### Implementation Sırası\n1. Dependencies ekle\n2. Settings modülü\n3. User CSV Import\n4. Vocabulary CSV Import\n5. Word Lists (drag-drop)\n6. Analytics + Charts\n7. Dashboard update\n\n---"
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "tool_use",
        "id": "toolu_01QuYfrKLsTrB6ruumGvwEEC",
        "name": "ExitPlanMode",
        "input": {
          "plan": "# ReadEng Admin Panel - Phase 3 Özellikleri\n\n## Özet\nMevcut admin paneline 4 yeni özellik ekleniyor:\n1. CSV Import (Users + Vocabulary)\n2. Settings modülü\n3. Word Lists modülü (drag-drop ile)\n4. Analytics + Charts\n\n**Proje:** `/Users/wonderelt/Desktop/readeng_admin`\n\n---\n\n## Mevcut Durum (Tamamlandı)\n- ✅ Schools (CRUD)\n- ✅ Users (List + Edit)\n- ✅ Classes (CRUD + student assignment)\n- ✅ Badges (CRUD)\n- ✅ Vocabulary (CRUD + pagination)\n\n---\n\n## Yeni Dependencies\n\n```yaml\n# pubspec.yaml'a ekle:\ndependencies:\n  csv: ^6.0.0           # CSV parsing\n  fl_chart: ^0.69.0     # Charts\n```\n\n---\n\n## Phase 3.1: CSV Import\n\n### Users CSV Import\n\n**Dosya:** `lib/features/users/screens/user_import_screen.dart`\n\n**Özellikler:**\n- CSV dosya seçimi (file_picker zaten var)\n- Preview table (ilk 10 satır)\n- Column mapping (otomatik veya manuel)\n- Validation errors gösterimi\n- Import progress indicator\n- Results summary\n\n**CSV Format:**\n```csv\nemail,first_name,last_name,role,school_code,student_number\njohn@example.com,John,Doe,student,DEMO123,2024001\njane@example.com,Jane,Smith,teacher,DEMO123,\n```\n\n**Import Logic:**\n```dart\n1. Parse CSV with csv package\n2. Validate required fields (email, role)\n3. Look up school_id from school_code\n4. For each row:\n   - Check if profile exists (by email)\n   - If exists: update fields\n   - If not exists: create profile (user must register separately)\n5. Show results: created, updated, errors\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/users/import', builder: (_, __) => const UserImportScreen()),\n```\n\n**UI Updates:**\n- UserListScreen'e \"Import CSV\" butonu ekle\n\n---\n\n### Vocabulary CSV Import\n\n**Dosya:** `lib/features/vocabulary/screens/vocabulary_import_screen.dart`\n\n**Özellikler:**\n- CSV dosya seçimi\n- Preview table\n- Duplicate handling: Skip / Update\n- Import progress\n- Results summary\n\n**CSV Format:**\n```csv\nword,phonetic,part_of_speech,meaning_tr,meaning_en,level\napple,/ˈæp.əl/,noun,elma,a round fruit,A1\nrun,/rʌn/,verb,koşmak,to move fast,A1\n```\n\n**Import Logic:**\n```dart\n1. Parse CSV\n2. Validate required fields (word, meaning_tr)\n3. For each row:\n   - Check if word exists\n   - If exists and \"Update\" selected: update\n   - If exists and \"Skip\" selected: skip\n   - If not exists: insert\n4. Show results\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/vocabulary/import', builder: (_, __) => const VocabularyImportScreen()),\n```\n\n**UI Updates:**\n- VocabularyListScreen'e \"Import CSV\" butonu ekle\n\n---\n\n## Phase 3.2: Settings Module\n\n**Dosya:** `lib/features/settings/screens/settings_screen.dart`\n\n**Sections:**\n\n### 1. XP Configuration\n```dart\n- XP per chapter read: [number input]\n- XP per activity completed: [number input]\n- XP per vocabulary learned: [number input]\n- XP per streak day: [number input]\n```\n\n### 2. Game Configuration\n```dart\n- Default time limit (seconds): [number input]\n- Difficulty multiplier: [dropdown 1x, 1.5x, 2x]\n```\n\n### 3. System Info (Read-only)\n```dart\n- App version: 1.0.0\n- Environment: Production\n- Database: Connected\n- Last sync: [timestamp]\n```\n\n**Storage:** Supabase'de `system_settings` tablosu (key-value)\n\n**Routes:**\n```dart\nGoRoute(path: '/settings', builder: (_, __) => const SettingsScreen()),\n```\n\n**Dashboard Update:**\n- Settings kartını aktif et\n\n---\n\n## Phase 3.3: Word Lists Module\n\n**Dosyalar:**\n```\nlib/features/word_lists/screens/\n├── word_list_list_screen.dart\n└── word_list_edit_screen.dart\n```\n\n### word_list_list_screen.dart\n\n**Provider:**\n```dart\nfinal wordListsProvider = FutureProvider<List<Map<String, dynamic>>>((ref) async {\n  final supabase = ref.watch(supabaseClientProvider);\n  return await supabase\n      .from('word_lists')\n      .select('*, word_list_items(count)')\n      .eq('is_system', true)  // Admin sadece system listelerini yönetir\n      .order('name');\n});\n```\n\n**UI:**\n- Card grid layout\n- Show: name, description, level, word count, cover image\n- Filter by category\n- Filter by level\n\n**Categories:**\n- common_words, grade_level, test_prep, thematic, story_vocab\n\n### word_list_edit_screen.dart\n\n**Form Fields:**\n- name (required)\n- description\n- level dropdown (A1-C2)\n- category dropdown\n- cover_image_url\n- source_book_id (optional, dropdown)\n\n**Word Management Section:**\n- Current words list with drag-drop reordering\n- Search and add words from vocabulary_words\n- Remove button for each word\n- Word count display\n\n**Drag-Drop Implementation:**\n```dart\nReorderableListView.builder(\n  onReorder: (oldIndex, newIndex) async {\n    // Reorder locally\n    // Update order_index in word_list_items\n  },\n  itemBuilder: (context, index) {\n    return ListTile(\n      key: ValueKey(word['id']),\n      leading: ReorderableDragStartListener(...),\n      title: Text(word['word']),\n      trailing: IconButton(icon: Icons.delete, onPressed: _removeWord),\n    );\n  },\n)\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/word-lists', builder: (_, __) => const WordListListScreen()),\nGoRoute(path: '/word-lists/new', builder: (_, __) => const WordListEditScreen()),\nGoRoute(path: '/word-lists/:listId', builder: (_, state) => WordListEditScreen(listId: state.pathParameters['listId'])),\n```\n\n**Dashboard Update:**\n- Word Lists kartı ekle\n\n---\n\n## Phase 3.4: Analytics + Charts\n\n**Dosya:** `lib/features/analytics/screens/analytics_screen.dart`\n\n**Sections:**\n\n### 1. Overview Stats (Cards)\n```dart\nRow(\n  children: [\n    _StatCard(title: 'Total Schools', value: schoolCount, icon: Icons.school),\n    _StatCard(title: 'Total Users', value: userCount, icon: Icons.people),\n    _StatCard(title: 'Total Books', value: bookCount, icon: Icons.book),\n    _StatCard(title: 'Total Words', value: wordCount, icon: Icons.abc),\n  ],\n)\n```\n\n### 2. User Distribution (Pie Chart)\n```dart\nPieChart(\n  PieChartData(\n    sections: [\n      PieChartSectionData(title: 'Students', value: studentCount, color: Colors.blue),\n      PieChartSectionData(title: 'Teachers', value: teacherCount, color: Colors.green),\n      PieChartSectionData(title: 'Admins', value: adminCount, color: Colors.red),\n    ],\n  ),\n)\n```\n\n### 3. Top Schools by Students (Bar Chart)\n```dart\nBarChart(\n  BarChartData(\n    barGroups: topSchools.map((school) =>\n      BarChartGroupData(\n        x: index,\n        barRods: [BarChartRodData(toY: school['student_count'])],\n      ),\n    ).toList(),\n  ),\n)\n```\n\n### 4. Reading Activity (Line Chart - Last 30 Days)\n```dart\nLineChart(\n  LineChartData(\n    lineBarsData: [\n      LineChartBarData(\n        spots: dailyActivity.map((day) =>\n          FlSpot(day['date'], day['count']),\n        ).toList(),\n      ),\n    ],\n  ),\n)\n```\n\n### 5. Recent Activity Feed\n```dart\nListView(\n  children: recentXpLogs.map((log) => ListTile(\n    leading: CircleAvatar(child: Text(log['user']['initials'])),\n    title: Text('+${log['amount']} XP'),\n    subtitle: Text(log['description']),\n    trailing: Text(timeAgo(log['created_at'])),\n  )).toList(),\n)\n```\n\n**Queries:**\n```dart\n// Overview stats\nfinal stats = await Future.wait([\n  supabase.from('schools').select('id').count(),\n  supabase.from('profiles').select('id').count(),\n  supabase.from('books').select('id').count(),\n  supabase.from('vocabulary_words').select('id').count(),\n]);\n\n// User distribution\nfinal userDist = await supabase\n    .from('profiles')\n    .select('role')\n    .then((data) => groupBy(data, 'role'));\n\n// Top schools\nfinal topSchools = await supabase.rpc('get_schools_with_stats').limit(10);\n\n// Recent activity\nfinal recentLogs = await supabase\n    .from('xp_logs')\n    .select('*, profiles(first_name, last_name)')\n    .order('created_at', ascending: false)\n    .limit(20);\n```\n\n**Routes:**\n```dart\nGoRoute(path: '/analytics', builder: (_, __) => const AnalyticsScreen()),\n```\n\n**Dashboard Update:**\n- Analytics kartını aktif et\n\n---\n\n## Dosya Özeti\n\n### Yeni Dosyalar (6 dosya)\n```\nlib/features/users/screens/user_import_screen.dart\nlib/features/vocabulary/screens/vocabulary_import_screen.dart\nlib/features/settings/screens/settings_screen.dart\nlib/features/word_lists/screens/word_list_list_screen.dart\nlib/features/word_lists/screens/word_list_edit_screen.dart\nlib/features/analytics/screens/analytics_screen.dart\n```\n\n### Güncellenecek Dosyalar\n```\nlib/core/router.dart - 6 yeni route\nlib/features/dashboard/screens/dashboard_screen.dart - 3 yeni kart\nlib/features/users/screens/user_list_screen.dart - Import butonu\nlib/features/vocabulary/screens/vocabulary_list_screen.dart - Import butonu\npubspec.yaml - 2 yeni dependency\n```\n\n---\n\n## Implementation Sırası\n\n| # | Modül | Bağımlılık |\n|---|-------|------------|\n| 1 | Dependencies (csv, fl_chart) | - |\n| 2 | Settings | - |\n| 3 | User CSV Import | csv package |\n| 4 | Vocabulary CSV Import | csv package |\n| 5 | Word Lists | - |\n| 6 | Analytics + Charts | fl_chart |\n| 7 | Dashboard Update | Tümü |\n\n---\n\n## Database Gereksinimleri\n\n### system_settings tablosu (yoksa oluştur)\n```sql\nCREATE TABLE IF NOT EXISTS system_settings (\n  key VARCHAR PRIMARY KEY,\n  value JSONB NOT NULL,\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- Default values\nINSERT INTO system_settings (key, value) VALUES\n  ('xp_chapter_read', '10'),\n  ('xp_activity_completed', '5'),\n  ('xp_vocabulary_learned', '2'),\n  ('xp_streak_day', '15'),\n  ('default_time_limit', '60'),\n  ('difficulty_multiplier', '1')\nON CONFLICT (key) DO NOTHING;\n```\n\n---\n\n## Doğrulama\n\n### CSV Import\n- [ ] CSV dosya seçimi çalışıyor\n- [ ] Preview doğru gösteriliyor\n- [ ] Validation errors gösteriliyor\n- [ ] Import sonrası summary gösteriliyor\n- [ ] List otomatik yenileniyor\n\n### Settings\n- [ ] Mevcut değerler yükleniyor\n- [ ] Kaydet çalışıyor\n- [ ] Değişiklikler persist oluyor\n\n### Word Lists\n- [ ] CRUD çalışıyor\n- [ ] Drag-drop reorder çalışıyor\n- [ ] Word ekleme/çıkarma çalışıyor\n- [ ] Word count doğru\n\n### Analytics\n- [ ] Stats doğru yükleniyor\n- [ ] Charts render oluyor\n- [ ] Recent activity gösteriliyor\n\n---\n\n## Test\n\n```bash\ncd /Users/wonderelt/Desktop/readeng_admin\nflutter pub get  # Yeni dependencies için\nflutter run -d chrome\n```\n"
        },
        "caller": {
          "type": "direct"
        }
      }
    ]
  },
  {
    "role": "user",
    "content": [
      {
        "type": "tool_result",
        "content": "The user doesn't want to proceed with this tool use. The tool use was rejected (eg. if it was a file edit, the new_string was NOT written to the file). To tell you how to proceed, the user said:\nplan_review",
        "is_error": true,
        "tool_use_id": "toolu_01QuYfrKLsTrB6ruumGvwEEC"
      }
    ]
  },
  {
    "role": "user",
